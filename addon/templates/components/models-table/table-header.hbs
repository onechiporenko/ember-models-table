{{#with (hash
  row-sorting=(
    component themeInstance.components.row-sorting
    visibleProcessedColumns=visibleProcessedColumns
    themeInstance=themeInstance
    messages=messages
    selectedItems=selectedItems
    expandedItems=expandedItems
    useDataGrouping=useDataGrouping
    displayGroupedValueAs=displayGroupedValueAs
    sort=sort
    data=data
    sendAction=sendAction
    expandAllRows=expandAllRows
    collapseAllRows=collapseAllRows
    toggleAllSelection=toggleAllSelection
  )
  row-filtering=(
    component themeInstance.components.row-filtering
    visibleProcessedColumns=visibleProcessedColumns
    themeInstance=themeInstance
    messages=messages
    selectedItems=selectedItems
    expandedItems=expandedItems
    useDataGrouping=useDataGrouping
    displayGroupedValueAs=displayGroupedValueAs
    sendAction=sendAction
    expandAllRows=expandAllRows
    collapseAllRows=collapseAllRows
    toggleAllSelection=toggleAllSelection
  )
  grouped-header=(
    component themeInstance.components.grouped-header
    useDataGrouping=useDataGrouping
    displayGroupedValueAs=displayGroupedValueAs
    themeInstance=themeInstance
  )
  groupedHeaders=groupedHeaders
  useFilteringByColumns=useFilteringByColumns
  themeInstance=themeInstance
) as |th|}}
  {{#if hasBlock}}
    {{yield th}}
  {{else}}
    {{#if groupedHeaders.length}}
      {{#each groupedHeaders as |groupedHeader|}}
        {{component th.grouped-header groupedHeader=groupedHeader}}
      {{/each}}
    {{/if}}
    {{component th.row-sorting}}
    {{#if useFilteringByColumns}}
      {{component th.row-filtering}}
    {{/if}}
  {{/if}}
{{/with}}