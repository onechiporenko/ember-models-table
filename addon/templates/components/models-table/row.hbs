{{#let
  (hash
    Cell=(
      component this.themeInstance.cellComponent
      cellContentComponent=this.themeInstance.cellContentComponent
      record=this.record
      isExpanded=this.isExpanded
      isSelected=this.isSelected
      expandRow=this.expandRow
      collapseRow=this.collapseRow
      expandAllRows=this.expandAllRows
      clickOnRow=this.clickOnRow
      collapseAllRows=this.collapseAllRows
      themeInstance=this.themeInstance
      groupedLength=this.groupedLength
      isEditRow=this.isEditRow
      editRow=this.editRow
      saveRow=this.saveRow
      cancelEditRow=this.cancelEditRow
    )
    RowGroupToggle=(
      component (if @groupingRowComponent @groupingRowComponent this.themeInstance.rowGroupToggleComponent)
      currentGroupingPropertyName=this.currentGroupingPropertyName
      groupedValue=this.groupedValue
      displayGroupedValueAs=this.displayGroupedValueAs
      visibleProcessedColumns=this.visibleProcessedColumns
      groupedLength=this.groupedLength
      groupedItems=this.groupedItems
      visibleGroupedItems=this.visibleGroupedItems
      selectedGroupedItems=this.selectedGroupedItems
      expandedGroupedItems=this.expandedGroupedItems
      themeInstance=this.themeInstance
      toggleGroupedRows=this.doToggleGroupedRows
      toggleGroupedRowsSelection=this.toggleGroupedRowsSelection
      toggleGroupedRowsExpands=this.toggleGroupedRowsExpands
    )
    isEditRow=this.isEditRow
    editRow=this.editRow
    saveRow=this.saveRow
    cancelEditRow=this.cancelEditRow
    isFirstGroupedRow=this.isFirstGroupedRow
  )
as |Row|}}
  {{#if (has-block)}}
    {{yield Row}}
  {{else}}
    {{#if (and (is-equal @displayGroupedValueAs "column") this.isFirstGroupedRow @useDataGrouping)}}
      <td
        rowspan={{this.rowspanForFirstCell}}
        class={{this.themeInstance.groupingCell}}>
        <Row.RowGroupToggle
          @groupedValue={{@groupedValue}}
          @groupIsCollapsed={{exists-in @collapsedGroupValues @groupValue}} />
      </td>
    {{/if}}
    {{#each @visibleProcessedColumns as |column|}}
      {{#if column.simple}}
        <td class={{column.className}}>
          {{#if column.propertyName}}
            {{get @record column.propertyName}}
          {{/if}}
        </td>
      {{else}}
        {{#if column.routeName}}
          <td class={{column.className}}>
            <LinkTo @route={{column.routeName}} @model={{get @record column.routeProperty}}>
              {{#if column.propertyName}}
                {{get @record column.propertyName}}
              {{else}}
                {{@record.id}}
              {{/if}}
            </LinkTo>
          </td>
        {{else}}
          <Row.Cell @index={{@index}} @column={{column}} />
        {{/if}}
      {{/if}}
    {{/each}}
  {{/if}}
{{/let}}