{{#if (has-block)}}
  {{yield
    (hash
      themeInstance=themeInstance
      columnDropdownOptions=columnDropdownOptions
      processedColumns=processedColumns
      showAllColumns=(action "doShowAllColumns")
      hideAllColumns=(action "foHideAllColumns")
      restoreDefaultVisibility=(action "doRestoreDefaultVisibility")
      toggleColumnSet=(action "doToggleColumnSet")
      toggleHidden=(action "doToggleHidden")
    )}}
{{else}}
  <PaperMenu @renderInPlace={{true}} as |menu|>
    <menu.trigger>
      <PaperButton @raised={{true}}>
        {{themeInstance.messages.columns-title}} {{paper-icon "arrow_drop_down"}}
      </PaperButton>
    </menu.trigger>
    <menu.content @width={{4}} as |content|>
      <content.menu-item @onClick={{action "doShowAllColumns"}}>
        {{themeInstance.messages.columns-showAll}}
      </content.menu-item>
      <content.menu-item @onClick={{action "doHideAllColumns"}}>
        {{themeInstance.messages.columns-hideAll}}
      </content.menu-item>
      {{#if columnDropdownOptions.restoreDefaults}}
        <content.menu-item @onClick={{action "doRestoreDefaultVisibility"}}>
          {{themeInstance.messages.columns-restoreDefaults}}
        </content.menu-item>
      {{/if}}
      {{#each columnDropdownOptions.columnSets as |columnSet|}}
        <content.menu-item @onClick={{action "doToggleColumnSet" columnSet}}>
          {{columnSet.label}}
        </content.menu-item>
      {{/each}}
      <PaperDivider/>
      {{#each processedColumns as |column|}}
        {{#if column.mayBeHidden}}
          <content.menu-item @onClick={{action "doToggleHidden" column bubbles=false}}>
            {{paper-icon
              (if column.isVisible themeInstance.column-visible themeInstance.column-hidden)
              class=(if column.isVisible themeInstance.column-visible themeInstance.column-hidden)
            }}
            {{column.title}}
          </content.menu-item>
        {{/if}}
      {{/each}}
    </menu.content>
  </PaperMenu>
{{/if}}